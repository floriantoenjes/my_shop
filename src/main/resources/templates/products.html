<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>My Shop</title>
</head>
<body>
    <h1>Cart</h1>
    <p>
        In cart: <span th:text="${subTotal}"></span> €
    </p>
    <h1>Products</h1>
    <ul>
        <li th:each="product : ${products}">
            <span th:text="${product.name}"></span>
            <span th:text="${product.price} + ' €'"></span>
            <a th:href="@{/product/detail/} + ${product.id}">Detail</a>
            <form th:action="@{/purchase/add}" method="post">
                <input type="hidden" name="id" th:value="${product.id}"/>
                <input type="text" name="quantity"/>
                <button type="submit">Add to cart</button>
            </form>
        </li>
    </ul>
</body>
</html>